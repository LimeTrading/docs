<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-trading">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.1">
<script src="https://js-na1.hs-scripts.com/7051690.js" async defer="defer" id="hs-script-loader"></script><title data-rh="true">Trading | Lime Direct C# SDK</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://docs.lime.co/csharp/img/lime-stacked-full-color.svg"><meta data-rh="true" name="twitter:image" content="https://docs.lime.co/csharp/img/lime-stacked-full-color.svg"><meta data-rh="true" property="og:url" content="https://docs.lime.co/csharp/trading"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Trading | Lime Direct C# SDK"><meta data-rh="true" name="description" content="Order execution simulation"><meta data-rh="true" property="og:description" content="Order execution simulation"><link data-rh="true" rel="icon" href="/csharp/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://docs.lime.co/csharp/trading"><link data-rh="true" rel="alternate" href="https://docs.lime.co/csharp/trading" hreflang="en"><link data-rh="true" rel="alternate" href="https://docs.lime.co/csharp/trading" hreflang="x-default"><link rel="stylesheet" href="/csharp/assets/css/styles.06558f6e.css">
<link rel="preload" href="/csharp/assets/js/runtime~main.e2629cad.js" as="script">
<link rel="preload" href="/csharp/assets/js/main.73e6c61d.js" as="script">
</head>
<body class="navigation-with-keyboard" data-theme="light">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbarHideable_m1mJ"><div class="navbar__inner"><div class="navbar__items"><a href="https://docs.lime.co/" target="_blank" rel="noopener noreferrer" class="navbar__brand"><div class="navbar__logo"><img src="/csharp/img/LT-Logo-Large-Web.png" alt="Lime Financial" class="themedImage_ToTc themedImage--light_HNdA" height="38" width="112"><img src="/csharp/img/LT-Logo-Large-Web.png" alt="Lime Financial" class="themedImage_ToTc themedImage--dark_i4oU" height="38" width="112"></div><b class="navbar__title text--truncate"></b></a></div><div class="navbar__items navbar__items--right"><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Lime Direct</a><ul class="dropdown__menu"><li><a href="https://docs.lime.co/cpp/LimeTradingApiOverview.pdf" target="_blank" rel="noopener noreferrer" class="dropdown__link dropdown__link--icon-c-plus">C++</a></li><li><a href="https://docs.lime.co/csharp" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--icon-dot-net">.NET</a></li><li><a href="https://docs.lime.co/python" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--icon-python">Python</a></li><li><a href="https://docs.lime.co/Java/index.html" target="_blank" rel="noopener noreferrer" class="dropdown__link dropdown__link--icon-java">Java</a></li><li><a href="https://docs.lime.co/fix/LimeFIXManual.pdf" target="_blank" rel="noopener noreferrer" class="dropdown__link dropdown__link--icon-fix">FIX 4.2.</a></li><li><a href="https://docs.lime.co/binary/LimeTSPlusGuide.pdf" target="_blank" rel="noopener noreferrer" class="dropdown__link dropdown__link--icon-lime-binary">Lime Binary</a></li><li><a href="https://docs.lime.co/dashboard" target="_blank" rel="noopener noreferrer" class="dropdown__link dropdown__link--icon-lime-dashboard">Lime Dashboard</a></li><li><a href="https://github.com/LimeTrading/docs-examples" target="_blank" rel="noopener noreferrer" class="dropdown__link dropdown__link--icon-github">Code Examples</a></li></ul></div><div class="navbar__item dropdown dropdown--hoverable dropdown--right"><a href="#" aria-haspopup="true" aria-expanded="false" role="button" class="navbar__link">Lime Trader</a><ul class="dropdown__menu"><li><a href="https://docs.lime.co/trader" target="_self" rel="noopener noreferrer" class="dropdown__link dropdown__link--icon-lime-dashboard">Lime Trader API</a></li><li><a href="https://docs.lime.co/lime-trader-sdk/getting_started.html" target="_blank" rel="noopener noreferrer" class="dropdown__link dropdown__link--icon-python">Lime Trader SDK</a></li></ul></div><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper mainWrapper_z2l0 docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a href="https://docs.lime.co/" target="_blank" rel="noopener noreferrer" tabindex="-1" class="sidebarLogo_isFc"><img src="/csharp/img/LT-Logo-Large-Web.png" alt="Lime Financial" class="themedImage_ToTc themedImage--light_HNdA" height="38" width="112"><img src="/csharp/img/LT-Logo-Large-Web.png" alt="Lime Financial" class="themedImage_ToTc themedImage--dark_i4oU" height="38" width="112"><b></b></a><nav class="menu thin-scrollbar menu_Y1UP"><div><div class="searchBox_H2mL"><div class="dsla-search-wrapper"><div class="dsla-search-field" data-tags="default,docs-default-current"></div></div></div></div><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/csharp/">Getting started</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/csharp/connection">Connecting to Lime</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible menu__list-item-collapsible--active"><a class="menu__link menu__link--sublist menu__link--active" aria-current="page" aria-expanded="true" href="/csharp/trading">Trading</a><button aria-label="Toggle the collapsible sidebar category &#x27;Trading&#x27;" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/trading#order-execution-simulation">Execution simulation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/trading#sending-new-equity-orders">New equity orders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/trading#sending-new-option-orders">New option orders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/trading#cancelling-orders">Cancelling orders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/trading#replacing-orders">Replacing orders</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/csharp/trading#busted-and-corrected-orders">Busted and corrected orders</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><h1>Trading</h1><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="order-execution-simulation">Order execution simulation<a class="hash-link" href="#order-execution-simulation" title="Direct link to heading">​</a></h2><p>Our test environment simulates multiple real life scenarios to facilitate debugging.</p><ul><li>Orders with a symbol that start with “AA” will be fully filled. Limit orders execute at the price specified on the order, market orders execute at $50.00</li><li>Orders with a symbol not starting with the letters “AA” will remain open and would be available to cancel replace later.</li><li>Orders with a symbol starting with “PAR” will be partially filled to half of the requested quantity.</li><li>Orders with a symbol starting with the letters “BUST” will be filled and then the fill will be immediately busted.</li><li>Orders with a symbol starting with “CORRECTP” in them will be filled and then corrected with the price of +$1.00 of the initial fill price.</li><li>Orders with a symbol starting with “CORRECTQ” will be filled and then corrected with the filled quantity to -10 of the initially filled quantity.</li></ul><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sending-new-equity-orders">Sending new equity orders<a class="hash-link" href="#sending-new-equity-orders" title="Direct link to heading">​</a></h2><blockquote><p>The method to send equity orders</p></blockquote><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F0F4F7;--prism-background-color:#192840"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F0F4F7"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token return-type class-name">Task</span><span class="token plain"> IClient</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">PlaceAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">    </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">    </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> quantity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">    </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> price</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">    </span><span class="token class-name">Side</span><span class="token plain"> side</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">    </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">string</span><span class="token plain"> symbol</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">    </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">string</span><span class="token plain"> route</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">    </span><span class="token class-name">OrderOptions</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Relevant callback events</p></blockquote><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F0F4F7;--prism-background-color:#192840"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F0F4F7"><span class="token return-type class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> ICallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">OnOrderAck</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> eventId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> limeOrderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name">AckOptions</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token return-type class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> ICallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">OnOrderReject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> eventId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">string</span><span class="token plain"> reason</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token return-type class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> ICallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">OnFill</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> eventId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Side</span><span class="token plain"> side</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> liquidity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> fillPrice</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> quantityFilled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> quantityLeft</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token plain"> transactTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">string</span><span class="token plain"> symbol</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">FillOptions</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Use <code>PlaceAsync</code> method to create a new equity order.</p><table><thead><tr><th>parameter</th><th>description</th></tr></thead><tbody><tr><td>long orderId</td><td>a unique id generated by client. Uniqueness must be maintained within the trading day. An order with duplicate id will be rejected.</td></tr><tr><td>int quantity</td><td>quantity of the order</td></tr><tr><td>long price</td><td>order limit price scaled to 1/100 of a cent. For example, value of <code>$40.52</code> should be represented as <code>405200</code>. The value of <code>0</code> indicates a Market order.</td></tr><tr><td>Side side</td><td><code>Buy</code>, <code>Sell</code>, <code>SellShort</code> or <code>BuyToCover</code></td></tr><tr><td>string symbol</td><td>security Symbol</td></tr><tr><td>string route</td><td>route name known to Lime</td></tr></tbody></table><p>As soon as Lime Trading Server receives the order it assigns a lime order id and sends an acknowledge event back to the client. <code>OnOrderAck</code> method on your <code>ICallback</code> instance receives both orderId and limeOrderId. If the acknowledge has never been called the client can assume that the order has never been received by Lime. Otherwise, in case of any errors the client receives an <code>OnOrderReject</code>. After the acknowledgement the order becomes active and can receive one or more <code>OnFill</code> events.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="sending-new-option-orders">Sending new option orders<a class="hash-link" href="#sending-new-option-orders" title="Direct link to heading">​</a></h2><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F0F4F7;--prism-background-color:#192840"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F0F4F7"><span class="token comment" style="color:rgb(98, 114, 164)">// Generating a unique order id as unix timestamp.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Note that this does not necessarily guarantee uniqueness if you send more than one order per millisecond</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> orderId </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">DateTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Now </span><span class="token operator">-</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">new</span><span class="token plain"> </span><span class="token constructor-invocation class-name">DateTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number" style="color:#4B8CEB">1970</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number" style="color:#4B8CEB">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number" style="color:#4B8CEB">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">TotalMilliseconds</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Create an option Call on underlying symbol PAR, expiring tomorrow, strike price $170.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// The strike price is scaled to 1/1000 of a dollar.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">var</span><span class="token plain"> option  </span><span class="token operator">=</span><span class="token plain"> USOptionsSymbol</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">Call</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token string" style="color:#2F8A21">&quot;PAR&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> DateTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Now</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">AddDays</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token number" style="color:#4B8CEB">1</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number" style="color:#4B8CEB">170000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token comment" style="color:rgb(98, 114, 164)">// Buy to open 50 contracts at $120.00</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">PlaceUSOptionsAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number" style="color:#4B8CEB">50</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token number" style="color:#4B8CEB">1200000</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> Side</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Buy</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> PositionEffect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token plain">Open</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  option</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token string" style="color:#2F8A21">&quot;ARCP&quot;</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Relevant callback events</p></blockquote><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F0F4F7;--prism-background-color:#192840"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F0F4F7"><span class="token return-type class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> ICallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">OnOrderAck</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> eventId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> limeOrderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name">AckOptions</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token return-type class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> ICallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">OnOrderReject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> eventId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">string</span><span class="token plain"> reason</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token return-type class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> ICallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">OnUSOptionsFill</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> eventId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Side</span><span class="token plain"> side</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> liquidity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> fillPrice</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> quantityFilled</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> quantityLeft</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token plain"> transactTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">USOptionsSymbol</span><span class="token plain"> symbol</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">FillOptions</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>To create an option order, use <code>PlaceUSOptionsAsync</code>. The general behaviour and parameters are essentially the same as for equity order</p><table><thead><tr><th>parameter</th><th>description</th></tr></thead><tbody><tr><td>long orderId</td><td>a unique id generated by client. Uniqueness must be maintained within the trading day. An order with duplicate id will be rejected.</td></tr><tr><td>int quantity</td><td>number of contracts</td></tr><tr><td>long price</td><td>order limit price scaled to 1/100 of a cent. For example, value of <code>$40.52</code> should be represented as <code>405200</code>. The value of <code>0</code> indicates a Market order.</td></tr><tr><td>Side side</td><td><code>Buy</code>, <code>Sell</code>. Note that <code>SellShort</code> and <code>BuyToCover</code> sides are not applicable to options.</td></tr><tr><td>PositionEffect positionEffect</td><td><code>Open</code> or <code>Close</code>. The client is expected to track the positions and send <code>Open</code> when buying or selling to open, or <code>Close</code> when selling or buying to close an existing position</td></tr><tr><td>USOptionsSymbol symbol</td><td>a <code>USOptionsSymbol</code> structure describing an options contract.<br> - string underlying - is the root symbol of the option<br> - DateTime expiration - the contract expiration date<br> - int strike - contract strike price. Unlike the limit price where the value is scaled to 1/10000 of a dollar, the strike price is scaled to 1/1000 of a dollar<br> - USOptionType type - Put or Call</td></tr><tr><td>string route</td><td>route name known to Lime</td></tr></tbody></table><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="cancelling-orders">Cancelling orders<a class="hash-link" href="#cancelling-orders" title="Direct link to heading">​</a></h2><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F0F4F7;--prism-background-color:#192840"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F0F4F7"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">CancelAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">await</span><span class="token plain"> client</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">CancelAllAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain">id</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Related callback events</p></blockquote><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F0F4F7;--prism-background-color:#192840"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F0F4F7"><span class="token return-type class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> ICallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">OnCancelAck</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> eventId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token return-type class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> ICallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">OnCancelReject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> eventId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">string</span><span class="token plain"> reason</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>There are multiple ways to cancel an order.</p><p>You need to call <code>CancelAsync</code> method passing its id to cancel a specific order. On successul cancellation, callback receives an <code>OnCancelAck</code> event. In case of an error the callback receives an <code>OnCancelReject</code> including a human-readable message explaining he reason. The most common reason is that requested order is no longer active. It is either cancelled or filled by the time the cancellation is requested. Another common mistake is a wrong order id so that lime trading server can&#x27;t find the requested order at all.</p><p>There is also <code>CancelAllAsync</code> that allows cancel all active orders at once. The client receives cancellation acknowledgment events on each of the cancelled orders. In case if no orders have been active the client receives nothing.</p><p>Anoher common practice is to instruct Lime to cancel all orders in case of connectivity issue. To do that, the client has to specify <code>cancelOnDisconnect</code> parameter on <code>ConnectAsync</code>.</p><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="replacing-orders">Replacing orders<a class="hash-link" href="#replacing-orders" title="Direct link to heading">​</a></h2><p>You can cancel an order and replace it with a new order in one call. On most exchanges this is equivalent to actually cancelling the order and sending a new one. It gives the order a new position on the execution queue at exchanges&#x27;s matching engine. The exception is when order quantity is decreased with same limit price, in this case exchanges amend the order without losing its place on the queue.</p><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F0F4F7;--prism-background-color:#192840"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F0F4F7"><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">public</span><span class="token plain"> </span><span class="token keyword" style="color:rgb(189, 147, 249);font-style:italic">async</span><span class="token plain"> </span><span class="token return-type class-name">Task</span><span class="token plain"> </span><span class="token function" style="color:#788BB0">ReplaceAsync</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> originalOrderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> newQuantity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> newPrice</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">ReplaceOptions</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><span class="props">long originalOrderId</span><p>Required. An existing open order to be replaced.</p><span class="props">long orderId</span><p>Required. The new order id.</p><span class="props">int newQuantity</span><p>Required. The new quantity of the order.</p><span class="props">long newPrice</span><p>Required. The new limit price of the order. Market orders can not be replaced.</p><span class="props">ReplaceOptions options</span><p>Optional information for a replace request</p><h3 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="replaceoptions-structure">ReplaceOptions structure<a class="hash-link" href="#replaceoptions-structure" title="Direct link to heading">​</a></h3><table><thead><tr><th>Option</th><th>Description</th></tr></thead><tbody><tr><td>int ShortSaleAffirmLongQuantity</td><td>This option is required for certain accounts and affirms that the client has the given long position in the security being traded. This option can only be set for orders which are short-sales. The value must be greater than zero.</td></tr><tr><td>int MinQuantity</td><td>Minimum quantity of an order to be executed, only valid for specific destinations.</td></tr><tr><td>int MinimumTriggerVol</td><td>Minimum Trigger Volume tag, valid for specific destinations and order types.</td></tr></tbody></table><p>On succesful replace, callback receives <code>OnReplaceAck</code> with the new order id. The previous order is considered Cancelled. Otherwise, <code>OnReplaceReject</code> is called with rejection reason and the previous order stays unaffected. One of the most common reasons of rejecting a replace request is when the original order has already been filled or cancelled. </p><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F0F4F7;--prism-background-color:#192840"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F0F4F7"><span class="token return-type class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> ICallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">OnReplaceAck</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> eventId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> origOrderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> limeOrderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">AckOptions</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token return-type class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> ICallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">OnReplaceReject</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> eventId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> origOrderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">string</span><span class="token plain"> reason</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithHideOnScrollNavbar_WYt5" id="busted-and-corrected-orders">Busted and corrected orders<a class="hash-link" href="#busted-and-corrected-orders" title="Direct link to heading">​</a></h2><p>There is a rare case when an exchange would need to handle an error and correct a previously executed fill. They can either bust the fill and after that send a new execution event, or they can send a correction event amending executed price or quantity. The trade to bust or correct is identified by its <code>FillOptions.ExecId</code>.</p><div class="language-csharp codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#F0F4F7;--prism-background-color:#192840"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-csharp codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#F0F4F7"><span class="token return-type class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> ICallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">OnBust</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> eventId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Side</span><span class="token plain"> reversedSide</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> bustedPrice</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> quantityBusted</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> quantityLeft</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token plain"> transactTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">string</span><span class="token plain"> symbol</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">FillOptions</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token return-type class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> ICallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">OnUSOptionsBust</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> eventId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Side</span><span class="token plain"> reversedSide</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> bustedPrice</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> quantityBusted</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> quantityLeft</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token plain"> transactTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">USOptionsSymbol</span><span class="token plain"> symbol</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">FillOptions</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token return-type class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> ICallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">OnCorrect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> eventId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Side</span><span class="token plain"> side</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> newFillPrice</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> newFilledQuantity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> quantityLeft</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token plain"> transactTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">string</span><span class="token plain"> symbol</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">FillOptions</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain"></span><span class="token return-type class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">void</span><span class="token plain"> ICallback</span><span class="token punctuation" style="color:rgb(248, 248, 242)">.</span><span class="token function" style="color:#788BB0">OnUSOptionsCorrect</span><span class="token punctuation" style="color:rgb(248, 248, 242)">(</span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> eventId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> orderId</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">Side</span><span class="token plain"> side</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">long</span><span class="token plain"> newFillPrice</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> newFilledQuantity</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name keyword" style="color:rgb(189, 147, 249);font-style:italic">int</span><span class="token plain"> quantityLeft</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#F0F4F7"><span class="token plain">  </span><span class="token class-name">DateTime</span><span class="token plain"> transactTime</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">USOptionsSymbol</span><span class="token plain"> symbol</span><span class="token punctuation" style="color:rgb(248, 248, 242)">,</span><span class="token plain"> </span><span class="token class-name">FillOptions</span><span class="token plain"> options</span><span class="token punctuation" style="color:rgb(248, 248, 242)">)</span><span class="token punctuation" style="color:rgb(248, 248, 242)">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#order-execution-simulation" class="table-of-contents__link toc-highlight">Order execution simulation</a></li><li><a href="#sending-new-equity-orders" class="table-of-contents__link toc-highlight">Sending new equity orders</a></li><li><a href="#sending-new-option-orders" class="table-of-contents__link toc-highlight">Sending new option orders</a></li><li><a href="#cancelling-orders" class="table-of-contents__link toc-highlight">Cancelling orders</a></li><li><a href="#replacing-orders" class="table-of-contents__link toc-highlight">Replacing orders</a><ul><li><a href="#replaceoptions-structure" class="table-of-contents__link toc-highlight">ReplaceOptions structure</a></li></ul></li><li><a href="#busted-and-corrected-orders" class="table-of-contents__link toc-highlight">Busted and corrected orders</a></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container container-fluid"><div class="footer__links text--center"><div class="footer__links"><a href="https://lime.co/privacy-policy/" target="_self" rel="noopener noreferrer" class="footer__link-item">Privacy Policy</a></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><img src="/csharp/img/LT-Logo-Large-Web.png" alt="Lime Financial" class="themedImage_ToTc themedImage--light_HNdA footer__logo" width="112" height="38"><img src="/csharp/img/LT-Logo-Large-Web.png" alt="Lime Financial" class="themedImage_ToTc themedImage--dark_i4oU footer__logo" width="112" height="38"></div><div class="footer__copyright">
        <div class="address">
        <div class="address-box">
          <p class="address-h">Reach Us</p>
          <p class="address-p">
          One Penn Plaza, </p>
          <p class="address-p">16th Floor
          New York, NY 10119</p>
        </div>
        <div class="address-box">
          <p class="address-h">General Inquiries</p>
          <p class="address-p">
          info@lime.co </p>
          <p class="address-p">
          +1 855 274-4934 (toll free)
          646-558-3232</p>
        </div>
        <div class="address-box">
          <p class="address-h">Quant & Algo Traders</p>
          <p class="address-p">
          sales@lime.co</p>
          <p class="address-p">+1 212-824-5000</p>
          </div>
        </div>
        <br>
        © 2024 Securities are offered by Lime Trading Corp., member <a href="https://www.finra.org/" target="_blank" rel="noopener">FINRA</a> &amp; <a href="https://www.sipc.org/" target="_blank" rel="noopener">SIPC</a>,<a href="https://www.nfa.futures.org/" target="_blank" rel="noopener">NFA</a>. All investing incurs risk, including but not limited to loss of principal. Further information may be found on our <a href="https://lime.co/disclosure-statements/">Disclosures Page</a>. 
        <br>
        <br>
        Please read the following documents <a href="https://www.theocc.com/Company-Information/Documents-and-Archives/Options-Disclosure-Document">Characteristics and Risks</a> of Standardized Options before trading options.
        <br>
        <br>
        Options involve risk and are not suitable for all investors as the special risks inherent to options trading may expose investors to potentially rapid and substantial losses. Options trading privileges are subject to Lime Trading Corp. review and approval. Hedging and protective strategies generally involve additional costs and do not assure a profit or guarantee against loss. With long options, investors may lose 100% of funds invested. Covered calls provide income, downside protection only to the extent of the premium received, and limit upside potential to the strike price plus premium received. Multi-leg option orders are not a standard option trade. There is no national best bid or offer for multi-leg orders. Multi-leg trades are executed on the exchanges at the discretion of specialists or market makers, who cannot be held to a net price on a multi-leg order. Therefore, you may not receive the national best bid or offer on each individual leg of an order. Multi-leg orders are executed as a single trade on the same exchange. Legs cannot be executed separately on different exchanges to get the national best bid or offer for each leg. Each individual leg of a multi-leg order can be subject to early exercise risk, possibly taking away the protection that the multi-leg position may provide. Partial or full assignment on a leg may originate a margin call or losses greater than you anticipated when you entered into the position. When a multi-leg order is canceled or filled, additional reporting may be required by the specialist or market maker. Reporting fills and cancels may cause delays and create risks, especially in fast moving markets. Other risks might be associated with multi-leg options trading.</div></div></div></footer></div>
<script src="/csharp/assets/js/runtime~main.e2629cad.js"></script>
<script src="/csharp/assets/js/main.73e6c61d.js"></script>
</body>
</html>