
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link href="images/favicon.ico" rel="icon" type="image/ico" />
    <title>Just2Trade API Reference</title>

    <style>
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .cd {
  color: #75715e;
}
.highlight .err {
  color: #960050;
}
.highlight .gr {
  color: #960050;
}
.highlight .gt {
  color: #960050;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #66d9ef;
}
.highlight .kd {
  color: #66d9ef;
}
.highlight .kr {
  color: #66d9ef;
}
.highlight .no {
  color: #66d9ef;
}
.highlight .kt {
  color: #66d9ef;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .nl {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .ow {
  color: #f92672;
}
.highlight .nt {
  color: #f92672;
}
.highlight .k, .highlight .kv {
  color: #f92672;
}
.highlight .kn {
  color: #f92672;
}
.highlight .kp {
  color: #f92672;
}
.highlight .o {
  color: #f92672;
}
    </style>
    <link href="stylesheets/screen.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" media="print" />
      <script src="javascripts/all.js"></script>
  </head>

  <body class="index" data-languages="[&quot;curl&quot;]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar.png" alt="Navbar" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo.png" class="logo" alt="Logo" />
        <div class="lang-selector">
              <a href="#" data-language-name="curl">curl</a>
        </div>
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <div id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#password-flow" class="toc-h2 toc-link" data-title="Authentication">Password Flow</a>
                  </li>
                  <li>
                    <a href="#code-flow-authorize" class="toc-h2 toc-link" data-title="Authentication">Code Flow - Authorize</a>
                  </li>
                  <li>
                    <a href="#code-flow-access-token" class="toc-h2 toc-link" data-title="Authentication">Code Flow - Access token</a>
                  </li>
                  <li>
                    <a href="#user-profile" class="toc-h2 toc-link" data-title="Authentication">User profile</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#accounts" class="toc-h1 toc-link" data-title="Accounts">Accounts</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-accounts-balances" class="toc-h2 toc-link" data-title="Accounts">Get accounts balances</a>
                  </li>
                  <li>
                    <a href="#get-account-positions" class="toc-h2 toc-link" data-title="Accounts">Get account positions</a>
                  </li>
                  <li>
                    <a href="#get-account-trades" class="toc-h2 toc-link" data-title="Accounts">Get account trades</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#trading" class="toc-h1 toc-link" data-title="Trading">Trading</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#validate-an-order" class="toc-h2 toc-link" data-title="Trading">Validate an order</a>
                  </li>
                  <li>
                    <a href="#place-an-order" class="toc-h2 toc-link" data-title="Trading">Place an order</a>
                  </li>
                  <li>
                    <a href="#get-order-details" class="toc-h2 toc-link" data-title="Trading">Get order details</a>
                  </li>
                  <li>
                    <a href="#cancel-an-order" class="toc-h2 toc-link" data-title="Trading">Cancel an order</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#market-data" class="toc-h1 toc-link" data-title="Market data">Market data</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#get-current-quote" class="toc-h2 toc-link" data-title="Market data">Get current quote</a>
                  </li>
                  <li>
                    <a href="#get-quotes-history" class="toc-h2 toc-link" data-title="Market data">Get quotes history</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#http-status-codes" class="toc-h2 toc-link" data-title="Errors">HTTP Status Codes</a>
                  </li>
                  <li>
                    <a href="#cms-symbols" class="toc-h2 toc-link" data-title="Errors">CMS symbols</a>
                  </li>
                  <li>
                    <a href="#occ-symbols" class="toc-h2 toc-link" data-title="Errors">OCC symbols</a>
                  </li>
              </ul>
          </li>
      </div>
        <ul class="toc-footer">
            <li><a href='https://trading.just2trade.com'>J2T trading platform</a></li>
            <li><a href='https://cabinet.just2trade.com'>J2T personal cabinet</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<blockquote>
<p>The OpenAPI specification
<a href="https://api.just2trade.com/docs/v1/swagger.json">https://api.just2trade.com/docs/v1/swagger.json</a></p>

<p>The client test utility
<a href="https://api.just2trade.com/docs">https://api.just2trade.com/docs</a></p>
</blockquote>

<p>We believe that modern financial mechanics is a problem of IT and code, not finance. We seek for elegance of integrations by eliminating the unnecessary complexity of financial infrastructure. Our API calls are based on REST concepts and can be made with any language that supports standard HTTP. Trading is made as easy as possible, just plain JSON and POST.</p>
<h1 id='authentication'>Authentication</h1>
<p>All requests are authenticated with tokens issued by common OAuth 2.0 compatible flow. In order to use the API, the application should be registered with us first to get the <code>client_id</code> and <code>client_secret</code>. Please contact us at support@just2trade.com in order to do that. We support two authorization flows suitable for different scenarios. The <code>password</code> type is short and simple to be used by clients trading directly on their account. The <code>authorization_code</code> type is longer and more complicated but allows third parties to get authorized access to client accounts. For security reasons, the third party applications will need to add one or more callback urls to the whitelist on our side first.</p>
<h2 id='password-flow'>Password Flow</h2>
<p>Create an access token by logging in with a valid username and password. The access token is issued for 24 hours by default and prolonged with every method call. In the most common scenario this is the first method to be called at the application start. The POST parameters are:</p>
<pre class="highlight shell tab-shell"><code>curl
    -X POST
    --header <span class="s1">'Accept: application/json'</span>
    --header <span class="s1">'Content-Type: application/x-www-form-urlencoded'</span>
    -d <span class="s1">'grant_type=password&amp;client_id={{client_id}}&amp;client_secret={{your_client_secret}}&amp;username={{username}}&amp;password={{password}}'</span>
    <span class="s1">'https://auth.just2trade.com/connect/token'</span>
</code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email profile"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MjAwOTg1OWUtZTUwMy00YzY4LWEyZWQtODU0N2NkZTJiNDdlfDIwMTcxMDA3MTkyNDQzfHRlc3R8U2VyZ2V5fE1pbmtvdg=="</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">86400</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<table><thead>
<tr>
<th>&nbsp;</th>
<th>&nbsp;</th>
</tr>
</thead><tbody>
<tr>
<td>grant_type</td>
<td>Required. This is the OAuth authorization flow to use. <code>password</code> in this case.</td>
</tr>
<tr>
<td>client_id</td>
<td>Required. The client id issued to the service</td>
</tr>
<tr>
<td>client_secret</td>
<td>Required. The client secret issued to the service</td>
</tr>
<tr>
<td>username</td>
<td>Required with <code>password</code> grant type.</td>
</tr>
<tr>
<td>password</td>
<td>Required with <code>password</code> grant type.</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<table><thead>
<tr>
<th>name</th>
<th>value</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>the access token</td>
</tr>
<tr>
<td>scope</td>
<td>the scopes this token grants access to</td>
</tr>
<tr>
<td>token_type</td>
<td><code>Bearer</code> means that the access token should be put to the Authorization header of every web request</td>
</tr>
<tr>
<td>expires_in</td>
<td>the expiration lifetime in seconds</td>
</tr>
</tbody></table>
<h2 id='code-flow-authorize'>Code Flow - Authorize</h2>
<p>The user browser should be directed to the following authentication url. The user will see the Just2Trade login form to input the credentials.</p>
<pre class="highlight shell tab-shell"><code>curl
    -X GET
    <span class="s1">'https://auth.just2trade.com/connect/authorize?response_type=code&amp;client_id={{your_client_id}}&amp;redirect_uri={{your_redirect_uri}}'</span>
</code></pre>
<blockquote>
<p>After successful authentication the user is redirected to redirect_uri with HTTP code 302 and the authorization code:</p>
</blockquote>
<pre class="highlight shell tab-shell"><code>    302 Found
    Location: <span class="o">{{</span>your_redirect_uri<span class="o">}}</span>?code<span class="o">={{</span>code<span class="o">}}</span>
</code></pre><h3 id='request'>Request</h3>
<table><thead>
<tr>
<th>parameter</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>response_type</td>
<td>Required. This is the OAuth authorization flow to use. In this case this is <code>code</code>.</td>
</tr>
<tr>
<td>client_id</td>
<td>Required. The client id issued to the service</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>Required. The url to redirect the user after successful authentication. For security reasons, we do not allow just any url, we require this url to be registered first</td>
</tr>
</tbody></table>
<h2 id='code-flow-access-token'>Code Flow - Access token</h2>
<p>The next step is to exchange the authorization code to an access token which will be used to authenticate all API requests. By default the access token is issued for 24 hours and is prolonged with every usage.</p>
<pre class="highlight shell tab-shell"><code>curl
    -X POST
    --header <span class="s1">'Accept: application/json'</span>
    --header <span class="s1">'Content-Type: application/x-www-form-urlencoded'</span>
    -d <span class="s1">'grant_type=authorization_code&amp;code={{code}}&amp;client_id={{client_id}}&amp;client_secret={{your_client_secret}}&amp;redirect_uri={{your_redirect_uri}}'</span>
    <span class="s1">'https://auth.just2trade.com/connect/token'</span>
</code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"scope"</span><span class="p">:</span><span class="w"> </span><span class="s2">"email profile"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"token_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Bearer"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"access_token"</span><span class="p">:</span><span class="w"> </span><span class="s2">"MjAwOTg1OWUtZTUwMy00YzY4LWEyZWQtODU0N2NkZTJiNDdlfDIwMTcxMDA3MTkyNDQzfHRlc3R8U2VyZ2V5fE1pbmtvdg=="</span><span class="p">,</span><span class="w">
  </span><span class="s2">"expires_in"</span><span class="p">:</span><span class="w"> </span><span class="mi">86400</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre><h3 id='request-2'>Request</h3>
<table><thead>
<tr>
<th>parameter</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>grant_type</td>
<td>Required. This is the OAuth authorization flow to use. <code>authorization_code</code> in this case.</td>
</tr>
<tr>
<td>client_id</td>
<td>Required. The client id issued to the service</td>
</tr>
<tr>
<td>client_secret</td>
<td>Required. The client secret issued to the service</td>
</tr>
<tr>
<td>code</td>
<td>Required with <code>authorization_code</code> grant type. The authorization code received at the previous step. Please note the authorization code lifetime is short (5 minutes) so please be sure to exchange the code to a token immediately.</td>
</tr>
<tr>
<td>redirect_uri</td>
<td>Required with <code>authorization_code</code> grant type. The same url as on the previous request authorization step.</td>
</tr>
</tbody></table>
<h3 id='response-2'>Response</h3>
<table><thead>
<tr>
<th>name</th>
<th>value</th>
</tr>
</thead><tbody>
<tr>
<td>access_token</td>
<td>the access token</td>
</tr>
<tr>
<td>scope</td>
<td>the scopes this token grants access to</td>
</tr>
<tr>
<td>token_type</td>
<td><code>Bearer</code> means that the access token should be put to the Authorization header of every web request</td>
</tr>
<tr>
<td>expires_in</td>
<td>the expiration lifetime in seconds</td>
</tr>
</tbody></table>
<h2 id='user-profile'>User profile</h2><pre class="highlight shell tab-shell"><code>curl
    -X GET
    <span class="s1">'https://api.just2trade.com/userinfo'</span>
</code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"8f1e7eba-0000-0000-0000-2b67c9af83a5"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"login"</span><span class="p">:</span><span class="w"> </span><span class="s2">"login"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"first_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"John"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"last_name"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">"Smith"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"email"</span><span class="p">:</span><span class="w"> </span><span class="s2">"login@email.com"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"domestic"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="s2">"accounts"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678@vision"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_platform"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETNA"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11111111@cor"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"trade_platform"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETNA"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"applications"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">""</span><span class="p">,</span><span class="w">
            </span><span class="s2">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"process"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>This retrieves the basic profile information including new accounts application status and the list of existing account numbers.</p>
<h1 id='accounts'>Accounts</h1><h2 id='get-accounts-balances'>Get accounts balances</h2><pre class="highlight shell tab-shell"><code>curl
    -X GET
    <span class="s1">'https://api.just2trade.com/accounts'</span>
</code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678@vision"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_platform"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETNA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"margin_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"marginx2"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"restriction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"none"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"daytrades_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"account_value_total"</span><span class="p">:</span><span class="w"> </span><span class="mf">9880.6806</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cash"</span><span class="p">:</span><span class="w"> </span><span class="mf">5283.44</span><span class="p">,</span><span class="w">
        </span><span class="s2">"day_trading_buying_power"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"margin_buying_power"</span><span class="p">:</span><span class="w"> </span><span class="mi">15243</span><span class="p">,</span><span class="w">
        </span><span class="s2">"non_margin_buying_power"</span><span class="p">:</span><span class="w"> </span><span class="mf">7621.5</span><span class="p">,</span><span class="w">
        </span><span class="s2">"position_market_value"</span><span class="p">:</span><span class="w"> </span><span class="mf">4597.2406</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unsettled_cash"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"11111111@cor"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"trade_platform"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ETNA"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"margin_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"daytrader"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"restriction"</span><span class="p">:</span><span class="w"> </span><span class="s2">"restricted"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"restriction_reason"</span><span class="p">:</span><span class="w"> </span><span class="s2">"please fund the account"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"daytrades_count"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"account_value_total"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"cash"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"day_trading_buying_power"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"margin_buying_power"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"non_margin_buying_power"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"position_market_value"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
        </span><span class="s2">"unsettled_cash"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Get balance information for all user accounts as an array of the following json structures:</p>

<table><thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>account_number</td>
<td>the account number</td>
</tr>
<tr>
<td>trade_platform</td>
<td>the trading platform this account is traded on</td>
</tr>
<tr>
<td>margin_type</td>
<td>the margin type, possible values are <code>cash</code>, <code>marginx1</code>, <code>marginx2</code>, <code>daytrader</code></td>
</tr>
<tr>
<td>restriction</td>
<td>restriction level effective on the account, possible values are <code>none</code> - no restrictions, <code>restricted</code> - opening transactions are not allowed but closing orders are accepted, <code>disabled</code> - no activity is allowed in the account, <code>closed</code> - the account is closed</td>
</tr>
<tr>
<td>restriction_reason</td>
<td>optional description explaining why the account is restricted</td>
</tr>
<tr>
<td>daytrades_count</td>
<td>day trades counter</td>
</tr>
<tr>
<td>account_value_total</td>
<td>total account liquidation value</td>
</tr>
<tr>
<td>cash</td>
<td>account debit balance when negative, credit balance when positive</td>
</tr>
<tr>
<td>day_trading_buying_power</td>
<td>day trading buying power for marginable securities</td>
</tr>
<tr>
<td>margin_buying_power</td>
<td>the buying power for marginable securities</td>
</tr>
<tr>
<td>non_margin_buying_power</td>
<td>the buying power for non-marginable securities</td>
</tr>
<tr>
<td>position_market_value</td>
<td>sum of all positions current market values. The value is negative for short positions</td>
</tr>
<tr>
<td>unsettled_cash</td>
<td>unsettled cash for cash accounts</td>
</tr>
</tbody></table>
<h2 id='get-account-positions'>Get account positions</h2><pre class="highlight shell tab-shell"><code>curl
    -X GET
    <span class="s1">'https://api.just2trade.com/accounts/12345678@vision/positions'</span>
</code></pre><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"KEYS"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">90</span><span class="p">,</span><span class="w">
        </span><span class="s2">"average_open_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">26.061</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">42.17</span><span class="p">,</span><span class="w">
        </span><span class="s2">"security_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"common_stock"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"GRNH"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"average_open_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0975</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.040600000000000004</span><span class="p">,</span><span class="w">
        </span><span class="s2">"security_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"common_stock"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TWTR"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">13</span><span class="p">,</span><span class="w">
        </span><span class="s2">"average_open_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">17.74043</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">17.38</span><span class="p">,</span><span class="w">
        </span><span class="s2">"security_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"common_stock"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"RAD"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
        </span><span class="s2">"average_open_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">2.37</span><span class="p">,</span><span class="w">
        </span><span class="s2">"current_price"</span><span class="p">:</span><span class="w"> </span><span class="mf">1.87</span><span class="p">,</span><span class="w">
        </span><span class="s2">"security_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"common_stock"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>Get specified account positions as an array of the following json structures:</p>

<table><thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>security symbol</td>
</tr>
<tr>
<td>quantity</td>
<td>number of shares or option contracts</td>
</tr>
<tr>
<td>average_open_price</td>
<td>average historical cost basis</td>
</tr>
<tr>
<td>current_price</td>
<td>current price</td>
</tr>
<tr>
<td>security_type</td>
<td>the type of security, the most common values are <code>common_stock</code>, <code>preferred_stock</code>, <code>option</code></td>
</tr>
</tbody></table>
<h2 id='get-account-trades'>Get account trades</h2><pre class="highlight shell tab-shell"><code>curl
    -X GET
    <span class="s1">'https://api.just2trade.com/accounts/{account_number}/trades/{mode}?filter.limit={limit}&amp;filter.skip={skip}'</span>
</code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
    </span><span class="s2">"trades"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAPL"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1507735400</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">40</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">156.6699</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">6266.8</span><span class="p">,</span><span class="w">
            </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BAC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1506680904</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">-1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.43</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">-25.43</span><span class="p">,</span><span class="w">
            </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"sell_short"</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="p">{</span><span class="w">
            </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BAC"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1506680852</span><span class="p">,</span><span class="w">
            </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
            </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.49</span><span class="p">,</span><span class="w">
            </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mf">25.49</span><span class="p">,</span><span class="w">
            </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy_to_cover"</span><span class="w">
        </span><span class="p">}</span><span class="w">
    </span><span class="p">],</span><span class="w">
    </span><span class="s2">"count"</span><span class="p">:</span><span class="w"> </span><span class="mi">237</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get the trades history on the specified account, ordered by descending timestamp. Query parameters are:</p>

<table><thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>account</td>
<td>Required. The account number</td>
</tr>
<tr>
<td>mode</td>
<td>Optional. Possible options are <code>close</code>, <code>current</code> or empty by default. <code>close</code> denotes the historical mode to return the trades by the end of the previous trading day, <code>current</code> shows the intraday activity, empty combines both</td>
</tr>
<tr>
<td>filter.limit</td>
<td>Optional, 10 by default. The number of items to return on one page</td>
</tr>
<tr>
<td>filter.skip</td>
<td>Optional, 0 by default. The number of items to skip</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>Returns an array of trades and a counter of total trades matching the criteria. Every trade has the following structure:</p>

<table><thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>security symbol</td>
</tr>
<tr>
<td>timestamp</td>
<td>unix time stamp of the trade</td>
</tr>
<tr>
<td>quantity</td>
<td>number of shares or option contracts, negative for sells, positive for buys</td>
</tr>
<tr>
<td>price</td>
<td>the trade price</td>
</tr>
<tr>
<td>amount</td>
<td>the trade amount, which is the quantity multiplied by the lot size and price,</td>
</tr>
<tr>
<td>side</td>
<td><code>buy</code>, <code>sell</code>, <code>sell_short</code> or <code>buy_to_cover</code></td>
</tr>
</tbody></table>
<h1 id='trading'>Trading</h1><h2 id='validate-an-order'>Validate an order</h2><pre class="highlight shell tab-shell"><code>curl -X POST
  --header <span class="s1">'Content-Type: application/json'</span>
  --header <span class="s1">'Accept: application/json'</span>
  --header <span class="s1">'Authorization: Bearer token'</span>
  -d <span class="s1">'{ \ 
   "account_number": "12345678@vision", \ 
   "symbol": "string", \ 
   "quantity": 1, \ 
   "price": 21.0, \ 
   "stop_price": 0, \ 
   "time_in_force": "day", \ 
   "order_type": "limit", \ 
   "side": "buy", \ 
   "comment": "string", \ 
   "exchange": "string" \ 
 }'</span> <span class="s1">'https://api.just2trade.com/orders/validate'</span>
</code></pre>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678@vision"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BAC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">21.0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"stop_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"any comment"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"exchange"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Auto"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"is_valid"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
  </span><span class="s2">"validation_message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You cannot sell more shares than your effective long position (effective long position = long position less open sell orders) using one order ticket. Please check your pending order(s) for potential outstanding duplicate order(s). Industry regulations require that two order tickets be submitted: one to sell your effective long position and one to sell your desired short position."</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The method verifies an order and responds with the validation message if the order can not be placed at the moment. The order is not sent to market.</p>
<h3 id='request'>Request</h3>
<table><thead>
<tr>
<th>parameter</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>account_number</td>
<td>Required. The account number in the format of <code>123456578@vision</code></td>
</tr>
<tr>
<td>symbol</td>
<td>Required. The security symbol, stocks in Nasdaq CMS convention, options in OCC</td>
</tr>
<tr>
<td>quantity</td>
<td>Required. The positive decimal, number of shares or contracts</td>
</tr>
<tr>
<td>price</td>
<td>Required positive decimal if the <code>order_type</code> is <code>limit</code> or <code>stop_limit</code></td>
</tr>
<tr>
<td>stop_price</td>
<td>Required positive decimal if the <code>order_type</code> is <code>stop</code> or <code>stop_limit</code></td>
</tr>
<tr>
<td>time_in_force</td>
<td>Optional, <code>day</code> by default. Specifies how long the order remains in effect. Possible values are <code>day</code>, <code>good_till_cancel</code>, <code>good_till_crossing</code></td>
</tr>
<tr>
<td>order_type</td>
<td>Optional, <code>market</code> by default. Possible values are <code>market</code>, <code>limit</code>, <code>stop</code>, <code>stop_limit</code>, <code>market_on_close</code>, <code>limit_on_close</code></td>
</tr>
<tr>
<td>side</td>
<td>Optional, <code>buy</code> by default. Available values are <code>buy</code> and <code>sell</code>. <code>buy</code> opens long position, <code>sell</code> closes the position. The system will detemine the proper side according to the current position, but you are still required to place two orders to revert the position from long to short and the other way around.</td>
</tr>
<tr>
<td>comment</td>
<td>Optional, any string</td>
</tr>
<tr>
<td>exchange</td>
<td>Optional, <code>auto</code> by default. The routing instructions for order execution. The actual values are dynamic and depend on the account settings. Some of the possible values are <code>NASDAQ</code> or <code>ARCA</code></td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>The method returns the following json structure:</p>

<table><thead>
<tr>
<th>parameter</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>is_valid</td>
<td><code>true</code> or <code>false</code></td>
</tr>
<tr>
<td>validation_message</td>
<td>Optional reject reason</td>
</tr>
</tbody></table>
<h2 id='place-an-order'>Place an order</h2><pre class="highlight shell tab-shell"><code>curl -X POST
  --header <span class="s1">'Content-Type: application/json'</span>
  --header <span class="s1">'Accept: application/json'</span>
  --header <span class="s1">'Authorization: Bearer token'</span>
  -d <span class="s1">'{ \ 
   "account_number": "12345678@vision", \ 
   "symbol": "BAC", \ 
   "quantity": 1, \ 
   "price": 20, \ 
   "stop_price": 0, \ 
   "time_in_force": "day", \ 
   "order_type": "limit", \ 
   "side": "buy", \ 
   "comment": "any comment", \ 
   "exchange": "Auto" \ 
 }'</span> <span class="s1">'https://api.just2trade.com/orders/place'</span>
</code></pre>
<blockquote>
<p>Request example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"account_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678@vision"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BAC"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mf">20.0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"stop_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"comment"</span><span class="p">:</span><span class="w"> </span><span class="s2">"any comment"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"exchange"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Auto"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"success"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="s2">"data"</span><span class="p">:</span><span class="w"> </span><span class="s2">"201710041710516537"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The order is accepted immediately, the method returns assigned id. The order is still validated with exactly same logic as in <a href="#validate-an-order">validate</a> method and is sent to market on successful validation pass. Otherwise, the order will reject asynchronously and you can query its status by calling the <a href="#get-order-details">details</a> method.</p>
<h3 id='response-2'>Response</h3>
<table><thead>
<tr>
<th>name</th>
<th>value</th>
</tr>
</thead><tbody>
<tr>
<td>success</td>
<td>true</td>
</tr>
<tr>
<td>data</td>
<td>the id assigned to the order</td>
</tr>
</tbody></table>
<h2 id='get-order-details'>Get order details</h2><pre class="highlight shell tab-shell"><code>curl -X GET
  --header <span class="s1">'Accept: application/json'</span>
  --header <span class="s1">'Authorization: Bearer token'</span>
  <span class="s1">'https://api.just2trade.com/orders/{{id}}'</span>
</code></pre>
<blockquote>
<p>Response example</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"client_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"20171003209384646"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"exchange"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Auto"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">1</span><span class="p">,</span><span class="w">
  </span><span class="s2">"executed_quantity"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"new"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"price"</span><span class="p">:</span><span class="w"> </span><span class="mi">20</span><span class="p">,</span><span class="w">
  </span><span class="s2">"stop_price"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"time_in_force"</span><span class="p">:</span><span class="w"> </span><span class="s2">"day"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_type"</span><span class="p">:</span><span class="w"> </span><span class="s2">"limit"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"order_side"</span><span class="p">:</span><span class="w"> </span><span class="s2">"buy"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"BAC"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>Get the order details by the specified order id</p>
<h3 id='request-2'>Request</h3>
<table><thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>id</td>
<td>Required. The order id</td>
</tr>
</tbody></table>
<h3 id='response-3'>Response</h3>
<table><thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>client_id</td>
<td>the order id</td>
</tr>
<tr>
<td>exchange</td>
<td>the routing instructions</td>
</tr>
<tr>
<td>quantity</td>
<td>number of shares or contracts requested by the order</td>
</tr>
<tr>
<td>executed_quantity</td>
<td>number of shares or contracts executed by this time</td>
</tr>
<tr>
<td>order_status</td>
<td>the order status. Possible values are <code>new</code>, <code>pending_new</code>, <code>partially_filled</code>, <code>filled</code>, <code>pending_cancel</code>, <code>cancel</code>, <code>pending_replace</code>, <code>replaced</code>, <code>rejected</code>, <code>done_for_day</code></td>
</tr>
<tr>
<td>price</td>
<td>limit price if applicable</td>
</tr>
<tr>
<td>stop_price</td>
<td>stop price is applicable</td>
</tr>
<tr>
<td>time_in_force</td>
<td>order duration instructions</td>
</tr>
<tr>
<td>order_type</td>
<td>type of the order</td>
</tr>
<tr>
<td>order_side</td>
<td>side of the order</td>
</tr>
<tr>
<td>symbol</td>
<td>security symbol</td>
</tr>
</tbody></table>
<h2 id='cancel-an-order'>Cancel an order</h2><pre class="highlight shell tab-shell"><code>curl -X POST
  --header <span class="s1">'Content-Type: application/json'</span>
  --header <span class="s1">'Accept: application/json'</span>
  --header <span class="s1">'Authorization: Bearer token'</span>
  -d <span class="s1">'{ \ 
   "message": "string" \ 
 }'</span> <span class="s1">'https://api.just2trade.com/orders/20171003209384646/cancel'</span>
</code></pre>
<p>Cancel the specified order</p>
<h3 id='request-3'>Request</h3>
<p>the order is identified by its id on the url. The request can also contain optional info</p>

<table><thead>
<tr>
<th>name</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>message</td>
<td>Optional, any string</td>
</tr>
</tbody></table>
<h1 id='market-data'>Market data</h1>
<aside class="notice">The stock symbols use Nasdaq CMS convention. Option symbols are encoded as OCC. The date is the unix timestamp.</aside>
<h2 id='get-current-quote'>Get current quote</h2><pre class="highlight shell tab-shell"><code>curl
    -X GET
    --header <span class="s1">'Accept: application/json'</span>
    --header <span class="s1">'Authorization: Bearer token'</span>
    <span class="s1">'https://api.just2trade.com/marketdata/quote?symbol=AAPL'</span>
</code></pre>
<blockquote>
<p>Returns the following structure:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="s2">"symbol"</span><span class="p">:</span><span class="w"> </span><span class="s2">"AAPL"</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ask"</span><span class="p">:</span><span class="w"> </span><span class="mf">154.61</span><span class="p">,</span><span class="w">
  </span><span class="s2">"ask_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bid"</span><span class="p">:</span><span class="w"> </span><span class="mf">154.6</span><span class="p">,</span><span class="w">
  </span><span class="s2">"bid_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">14</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last"</span><span class="p">:</span><span class="w"> </span><span class="mf">154.61</span><span class="p">,</span><span class="w">
  </span><span class="s2">"last_size"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">9461271</span><span class="p">,</span><span class="w">
  </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="mi">1507049383</span><span class="p">,</span><span class="w">
  </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="mf">155.09</span><span class="p">,</span><span class="w">
  </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="mf">153.91</span><span class="p">,</span><span class="w">
  </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="mf">154.01</span><span class="p">,</span><span class="w">
  </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="mf">153.81</span><span class="p">,</span><span class="w">
  </span><span class="s2">"week52_high"</span><span class="p">:</span><span class="w"> </span><span class="mf">164.94</span><span class="p">,</span><span class="w">
  </span><span class="s2">"week52_low"</span><span class="p">:</span><span class="w"> </span><span class="mf">104.08</span><span class="p">,</span><span class="w">
  </span><span class="s2">"change"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.52</span><span class="p">,</span><span class="w">
  </span><span class="s2">"change_pc"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
  </span><span class="s2">"open_interest"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre>
<p>The query retrieves current realtime quote for the specified symbol.</p>
<h3 id='request'>Request</h3>
<table><thead>
<tr>
<th>parameter</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>Required. The security symbol</td>
</tr>
</tbody></table>
<h3 id='response'>Response</h3>
<p>The data depends on current time of day.</p>
<h2 id='get-quotes-history'>Get quotes history</h2><pre class="highlight shell tab-shell"><code>curl
    -X GET
    --header <span class="s1">'Accept: application/json'</span>
    --header <span class="s1">'Authorization: Bearer token'</span>
    <span class="s1">'https://api.just2trade.com/marketdata/history?symbol=AAPL&amp;period=day&amp;from=1483228800&amp;to=1483488000
</span></code></pre>
<blockquote>
<p>Returns an array of candles:</p>
</blockquote>
<pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1483074000</span><span class="p">,</span><span class="w">
    </span><span class="s2">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Day"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="mf">116.65</span><span class="p">,</span><span class="w">
    </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="mf">117.2</span><span class="p">,</span><span class="w">
    </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="mf">115.43</span><span class="p">,</span><span class="w">
    </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="mf">115.82</span><span class="p">,</span><span class="w">
    </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">24541183</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="s2">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1483419600</span><span class="p">,</span><span class="w">
    </span><span class="s2">"period"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Day"</span><span class="p">,</span><span class="w">
    </span><span class="s2">"open"</span><span class="p">:</span><span class="w"> </span><span class="mf">115.8</span><span class="p">,</span><span class="w">
    </span><span class="s2">"high"</span><span class="p">:</span><span class="w"> </span><span class="mf">116.33</span><span class="p">,</span><span class="w">
    </span><span class="s2">"low"</span><span class="p">:</span><span class="w"> </span><span class="mf">114.76</span><span class="p">,</span><span class="w">
    </span><span class="s2">"close"</span><span class="p">:</span><span class="w"> </span><span class="mf">116.15</span><span class="p">,</span><span class="w">
    </span><span class="s2">"volume"</span><span class="p">:</span><span class="w"> </span><span class="mi">24719541</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<p>The query returns candle structures aggregated by specified period</p>
<h3 id='request-2'>Request</h3>
<table><thead>
<tr>
<th>parameter</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>symbol</td>
<td>Required. The security symbol, stocks in Nasdaq CMS convention. Options are not supported</td>
</tr>
<tr>
<td>period</td>
<td>Required. The supported periods are: <code>minute</code>, <code>hour</code>, <code>day</code>, <code>week</code>, <code>month</code>, <code>quarter</code>, <code>year</code></td>
</tr>
<tr>
<td>from</td>
<td>Required. Start of the period, unix timestamp</td>
</tr>
<tr>
<td>to</td>
<td>Required. End of the period, unix timestamp</td>
</tr>
</tbody></table>
<h1 id='errors'>Errors</h1>
<p>We use standard HTTP codes to indicate the result of a request. Generally speaking, codes in <code>2xx</code> range indicate successful call, codes <code>4xx</code> indicate that the request failed with the information provided (authentication not accepted, parameters formatted incorrectly, a trade is not accepted) and codes <code>5xx</code> indicate internal server errors with no further explanation. The standard codes are clearly not enough, that is why the API can also respond with a json object with the following optional fields:</p>

<table><thead>
<tr>
<th>parameter</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>code</td>
<td><code>not_found</code>, <code>validation_error</code>, <code>authorization_error</code></td>
</tr>
<tr>
<td>message</td>
<td>the error description</td>
</tr>
</tbody></table>
<h3 id='http-status-codes'>HTTP Status Codes</h3>
<table><thead>
<tr>
<th>code</th>
<th>description</th>
</tr>
</thead><tbody>
<tr>
<td>200 OK</td>
<td>all good</td>
</tr>
<tr>
<td>400 BAD REQUEST</td>
<td>the request is not accepted most likely due to formatting issues</td>
</tr>
<tr>
<td>401</td>
<td>authentication denied, access token is incorrect or revoked</td>
</tr>
<tr>
<td>404 NOT FOUND</td>
<td>the requested resource is not found</td>
</tr>
<tr>
<td>500 SERVER ERROR</td>
<td>internal server error, something on our end</td>
</tr>
</tbody></table>
<h2 id='cms-symbols'>CMS symbols</h2>
<p>The CMS convention is used to code stocks and ETFs. There is a space between the root and the suffix.</p>

<blockquote>
<p>As an example, the <strong>Bank of America warrant class A</strong> will be coded as <code>BAC WSA</code>, <strong>Berkshire Hathaway class B</strong> is coded as <code>BRK B</code></p>
</blockquote>

<table><thead>
<tr>
<th>Security Categorization</th>
<th>CMS Suffix</th>
</tr>
</thead><tbody>
<tr>
<td>Preferred</td>
<td>PR</td>
</tr>
<tr>
<td>Preferred Class class A</td>
<td>PRA</td>
</tr>
<tr>
<td>Class A</td>
<td>A</td>
</tr>
<tr>
<td>Preferred when distributed</td>
<td>PRWD</td>
</tr>
<tr>
<td>When distributed</td>
<td>WD</td>
</tr>
<tr>
<td>Warrants</td>
<td>WS</td>
</tr>
<tr>
<td>Warrants Class A</td>
<td>WSA</td>
</tr>
<tr>
<td>Called</td>
<td>CL</td>
</tr>
<tr>
<td>Class A Called</td>
<td>ACL</td>
</tr>
<tr>
<td>Preferred called</td>
<td>PRCL</td>
</tr>
<tr>
<td>Preferred A called</td>
<td>PRACL</td>
</tr>
<tr>
<td>Preferred A when issued</td>
<td>PRAWI</td>
</tr>
<tr>
<td>Emerging Company Marketplace</td>
<td>EC</td>
</tr>
<tr>
<td>Partial Paid</td>
<td>PP</td>
</tr>
<tr>
<td>Convertible</td>
<td>CV</td>
</tr>
<tr>
<td>Convertible called</td>
<td>CVCL</td>
</tr>
<tr>
<td>Class Convertible</td>
<td>ACV</td>
</tr>
<tr>
<td>Preferred (class A) Convertible</td>
<td>PRACV</td>
</tr>
<tr>
<td>Preferred (class A) when Distributed</td>
<td>PRAWD</td>
</tr>
<tr>
<td>Rights</td>
<td>RT</td>
</tr>
<tr>
<td>Units</td>
<td>U</td>
</tr>
<tr>
<td>When issued</td>
<td>WI</td>
</tr>
<tr>
<td>Rights when issued</td>
<td>RTWI</td>
</tr>
<tr>
<td>Preferred when issued</td>
<td>PRWI</td>
</tr>
<tr>
<td>Class &quot;A&quot; when issued</td>
<td>AWI</td>
</tr>
<tr>
<td>Warrrant when issued</td>
<td>WSWI</td>
</tr>
</tbody></table>
<h2 id='occ-symbols'>OCC symbols</h2>
<blockquote>
<p>For example, symbol <code>AAPL  171103C00155000</code> is translated to a call on AAPL expiring on November 3rd 2017, with its strike price of $155.00</p>
</blockquote>

<p>Option symbols are coded according to the OCC standard. The OCC option symbol consists of 4 parts:</p>

<ul>
<li>Root symbol of the underlying stock or ETF, padded with spaces to 6 characters</li>
<li>Expiration date, 6 digits in the format yymmdd</li>
<li>Option type, either P or C, for put or call</li>
<li>Strike price, as the price x 1000, front padded with 0s to 8 digits</li>
</ul>

      </div>
      <div class="dark-box">
          <div class="lang-selector">
                <a href="#" data-language-name="curl">curl</a>
          </div>
      </div>
    </div>
  </body>
</html>
